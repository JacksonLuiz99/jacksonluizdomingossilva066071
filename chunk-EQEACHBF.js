import{a as O,b as H}from"./chunk-BFAFSKNH.js";import{a as q}from"./chunk-FMNPLCKP.js";import{d as G,e as T}from"./chunk-L2EB7ID4.js";import{a as A,b as R}from"./chunk-X4BXCJEK.js";import"./chunk-M7YNLJA7.js";import{I as U}from"./chunk-ARLDRMJR.js";import{a as $,c as L,d as N}from"./chunk-MCHKK77N.js";import"./chunk-RTAFBYSH.js";import{$b as S,Bb as M,Bc as B,Cb as j,Cc as z,Db as t,Eb as n,Ec as V,Fb as b,Hb as E,Jb as v,Kb as c,Vb as o,Wa as C,Wb as h,Xb as P,Yb as F,Za as r,ac as D,ba as _,cc as m,dc as u,ib as I,ja as w,ka as y,nb as f,ub as g,zb as p}from"./chunk-YXS2TKPT.js";import"./chunk-2VMXMS7J.js";var Q=i=>["/pets",i,"editar"],J=()=>[],W=i=>["/tutores",i],X=(i,a)=>a.id;function Y(i,a){i&1&&(t(0,"div",7),b(1,"div",8),n())}function Z(i,a){if(i&1){let e=E();t(0,"button",31),v("click",function(){w(e);let l=c(),x=c();return y(x.deletePetPhoto(l.id,l.foto.id))}),t(1,"mat-icon",32),o(2,"delete"),n()()}}function ee(i,a){if(i&1&&(t(0,"p",37),o(1),n()),i&2){let e=c().$implicit;r(),h(e.telefone)}}function te(i,a){if(i&1&&(t(0,"p",38),o(1),n()),i&2){let e=c().$implicit;r(),h(e.email)}}function ie(i,a){if(i&1&&(t(0,"a",33),b(1,"img",34),t(2,"div",35)(3,"h3",36),o(4),m(5,"titlecase"),n(),f(6,ee,2,1,"p",37)(7,te,2,1,"p",38),n(),t(8,"mat-icon",39),o(9,"chevron_right"),n()()),i&2){let e=a.$implicit;g("routerLink",D(8,W,e.id)),r(),g("src",(e.foto==null?null:e.foto.url)||"/assets/images/placeholder-avatar.png",C)("alt",e.nome),r(3),P(" ",u(5,6,e.nome)," "),r(2),p(e.telefone?6:-1),r(),p(e.email?7:-1)}}function ne(i,a){if(i&1&&(t(0,"div",28),M(1,ie,10,10,"a",33,X),n()),i&2){let e=c();r(),j(e.tutores)}}function oe(i,a){i&1&&(t(0,"div",29)(1,"mat-icon",40),o(2,"person_off"),n(),t(3,"p",41),o(4,"Nenhum tutor vinculado"),n()())}function ae(i,a){i&1&&(t(0,"div",30)(1,"mat-icon"),o(2,"error_outline"),n(),t(3,"span"),o(4),n()()),i&2&&(r(4),h(a))}function re(i,a){if(i&1){let e=E();t(0,"div",9)(1,"div",10)(2,"div",11),b(3,"div",12),t(4,"div",13),b(5,"div",14)(6,"img",15),f(7,Z,3,0,"button",16),n(),t(8,"div",17)(9,"h1",18),o(10),m(11,"titlecase"),n(),t(12,"div",19)(13,"div",20)(14,"mat-icon",21),o(15,"pets"),n(),t(16,"span"),o(17),m(18,"titlecase"),n()(),t(19,"div",20)(20,"mat-icon",21),o(21,"cake"),n(),t(22,"span"),o(23),n()()()()(),t(24,"app-photo-upload",22),m(25,"async"),v("upload",function(l){let x=w(e),d=c();return y(d.uploadPhoto(x.id,l))}),n()(),t(26,"div",23)(27,"div",24)(28,"h2",25)(29,"mat-icon",26),o(30,"people"),n(),t(31,"span"),o(32,"Tutores Vinculados"),n(),t(33,"span",27),o(34),n()(),f(35,ne,3,0,"div",28)(36,oe,5,0,"div",29),n()()(),f(37,ae,5,1,"div",30),m(38,"async")}if(i&2){let e,s,l,x,d=a,k=c();r(6),g("src",(d.foto==null?null:d.foto.url)||"/assets/images/placeholder-pet.png",C)("alt",d.nome),r(),p(d.foto!=null&&d.foto.id?7:-1),r(3),P(" ",u(11,11,d.nome)," "),r(7),h(u(18,13,d.raca)),r(6),F("",d.idade," ",d.idade===1?"ano":"anos",""),r(),g("uploading",(e=u(25,15,k.facade.uploadingPhoto$))!==null&&e!==void 0?e:!1),r(10),P(" ",((s=d.tutores)!==null&&s!==void 0?s:S(19,J)).length," "),r(),p(((l=d.tutores)!==null&&l!==void 0?l:S(20,J)).length>0?35:36),r(2),p((x=u(38,17,k.facade.error$))?37:-1,x)}}var K=class i{facade=_(q);route=_($);router=_(L);dialog=_(G);petId=Number(this.route.snapshot.paramMap.get("id"));ngOnInit(){this.facade.loadPetDetail(this.petId).subscribe()}uploadPhoto(a,e){this.facade.uploadPetPhoto(a,e).subscribe(()=>{this.facade.loadPetDetail(a).subscribe()})}confirmDelete(){this.dialog.open(T,{data:{title:"Excluir Pet",message:"Tem certeza que deseja excluir este pet? Esta a\xE7\xE3o n\xE3o pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",isDanger:!0}}).afterClosed().subscribe(e=>{e&&this.facade.deletePet(this.petId).subscribe(()=>this.router.navigateByUrl("/pets"))})}deletePetPhoto(a,e){this.dialog.open(T,{data:{title:"Excluir Foto",message:"Tem certeza que deseja excluir a foto deste pet?",confirmText:"Excluir",cancelText:"Cancelar",isDanger:!0}}).afterClosed().subscribe(l=>{l&&this.facade.deletePetPhoto(a,e).subscribe(()=>this.facade.loadPetDetail(a).subscribe())})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["ng-component"]],decls:22,vars:9,consts:[[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4","mb-8"],["routerLink","/pets",1,"inline-flex","items-center","gap-2","px-5","py-2.5","rounded-full","font-semibold","transition-all","duration-200","bg-white","text-gray-700","border-2","border-gray-200","hover:bg-gray-50","hover:border-orange-500","hover:text-orange-500","group"],[1,"transition-transform","group-hover:-translate-x-1"],[1,"flex","gap-3"],[1,"inline-flex","items-center","gap-2","px-5","py-2.5","rounded-full","font-semibold","text-white","transition-all","bg-gradient-to-br","from-blue-500","to-blue-400","hover:-translate-y-0.5","hover:shadow-lg","hover:shadow-blue-500/30",3,"routerLink"],[1,"inline-flex","items-center","gap-2","px-5","py-2.5","rounded-full","font-semibold","text-white","transition-all","bg-gradient-to-br","from-red-500","to-red-400","hover:-translate-y-0.5","hover:shadow-lg","hover:shadow-red-500/30",3,"click"],[1,"h-1.5","w-full","bg-orange-100","rounded-full","overflow-hidden","mb-6"],[1,"h-full","bg-orange-500","animate-[loading_1.5s_ease-in-out_infinite]","w-1/2","rounded-full"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"flex","flex-col","gap-6"],[1,"bg-white","rounded-3xl","p-6","sm:p-8","shadow-xl","text-center","relative","overflow-hidden","flex-1"],[1,"absolute","top-0","left-0","w-full","h-32","bg-gradient-to-b","from-orange-50/50","to-transparent","pointer-events-none"],[1,"relative","inline-block","mb-4","group"],[1,"absolute","inset-0","bg-orange-500","rounded-3xl","rotate-6","opacity-20","transition-transform","duration-300","group-hover:rotate-12"],[1,"relative","w-48","h-48","sm:w-56","sm:h-56","object-cover","rounded-3xl","shadow-2xl","transition-transform","duration-300","group-hover:scale-105","z-10",3,"src","alt"],["type","button","title","Excluir foto",1,"absolute","-right-3","top-2","z-20","w-10","h-10","bg-white","text-red-500","rounded-full","shadow-lg","border-2","border-red-100","flex","items-center","justify-center","transition-all","hover:bg-red-50","hover:border-red-300","hover:scale-110","cursor-pointer"],[1,"relative","z-10"],[1,"text-3xl","sm:text-4xl","font-extrabold","bg-gradient-to-br","from-orange-500","to-orange-400","bg-clip-text","text-transparent","mb-4"],[1,"flex","flex-wrap","justify-center","gap-3"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-orange-50/80","backdrop-blur-sm","border","border-orange-100","rounded-full","text-orange-700","font-semibold","text-sm","shadow-sm"],[1,"text-orange-500","!text-lg","!w-5","!h-5"],["title","Atualizar foto do pet",3,"upload","uploading"],[1,"flex","flex-col"],[1,"bg-white","rounded-3xl","p-6","shadow-xl","flex-1"],[1,"flex","items-center","gap-3","text-xl","font-bold","text-gray-800","mb-4"],[1,"text-orange-500","!text-2xl","!w-7","!h-7"],[1,"inline-flex","items-center","justify-center","min-w-[2rem]","h-7","px-2.5","bg-gradient-to-br","from-orange-500","to-orange-400","text-white","rounded-full","text-xs","font-bold","ml-auto"],[1,"flex","flex-col","gap-3","max-h-[calc(100vh-400px)]","overflow-y-auto","pr-2"],[1,"flex","flex-col","items-center","justify-center","py-12","text-center"],[1,"flex","items-center","gap-3","p-6","bg-red-50","border-l-4","border-red-600","rounded-xl","text-red-600","font-medium","mt-6"],["type","button","title","Excluir foto",1,"absolute","-right-3","top-2","z-20","w-10","h-10","bg-white","text-red-500","rounded-full","shadow-lg","border-2","border-red-100","flex","items-center","justify-center","transition-all","hover:bg-red-50","hover:border-red-300","hover:scale-110","cursor-pointer",3,"click"],[1,"!text-xl","!w-5","!h-5"],[1,"pet-card","flex","items-center","gap-4","p-4","rounded-xl","border","border-gray-100","hover:bg-orange-50/50","hover:border-orange-200","transition-all","duration-200","cursor-pointer","group",3,"routerLink"],[1,"w-14","h-14","rounded-full","object-cover","shadow-md","border-2","border-white",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"text-base","font-bold","text-gray-800","truncate","group-hover:text-orange-600","transition-colors"],[1,"text-gray-500","text-sm","truncate"],[1,"text-gray-400","text-xs","truncate"],[1,"text-gray-300","group-hover:text-orange-500","group-hover:translate-x-1","transition-all"],[1,"!text-5xl","!w-14","!h-14","text-gray-200","mb-3"],[1,"text-gray-400","text-sm"]],template:function(e,s){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"a",2)(3,"mat-icon",3),o(4,"arrow_back"),n(),t(5,"span"),o(6,"Voltar aos Pets"),n()(),t(7,"div",4)(8,"a",5)(9,"mat-icon"),o(10,"edit"),n(),t(11,"span"),o(12,"Editar"),n()(),t(13,"button",6),v("click",function(){return s.confirmDelete()}),t(14,"mat-icon"),o(15,"delete"),n(),t(16,"span"),o(17,"Excluir"),n()()()(),f(18,Y,2,0,"div",7),m(19,"async"),f(20,re,39,21),m(21,"async"),n()),e&2){let l;r(8),g("routerLink",D(7,Q,s.petId)),r(10),p(u(19,3,s.facade.loadingDetail$)?18:-1),r(2),p((l=u(21,5,s.facade.selectedPet$))?20:-1,l)}},dependencies:[V,B,z,N,U,R,A,O,H],styles:["@keyframes _ngcontent-%COMP%_loading{0%{transform:translate(-100%)}50%{transform:translate(100%)}to{transform:translate(-100%)}}"]})};export{K as PetDetailPage};
