import{a as L}from"./chunk-YX6TV44J.js";import{a as U}from"./chunk-FMNPLCKP.js";import{b as T}from"./chunk-FDZI6VLF.js";import{i as A}from"./chunk-MIMWGAFJ.js";import{b as I,d as m,f as F,g as C,j as _,k as B,m as V,n as D,o as R,q as $,r as k}from"./chunk-S4BGLZ2S.js";import{a as G,b as q}from"./chunk-X4BXCJEK.js";import"./chunk-M7YNLJA7.js";import{I as N}from"./chunk-ARLDRMJR.js";import{a as P,c as M,d as S}from"./chunk-MCHKK77N.js";import"./chunk-RTAFBYSH.js";import{Bc as E,Db as i,Eb as t,Ec as w,Fb as s,Jb as v,Vb as o,Wb as y,Xb as g,Za as n,ba as d,cc as p,dc as u,ib as b,nb as x,ub as c,zb as h}from"./chunk-YXS2TKPT.js";import"./chunk-2VMXMS7J.js";function O(l,r){l&1&&(i(0,"p",13),o(1),t()),l&2&&(n(),y(r))}var j=class l{facade=d(U);fb=d($);route=d(P);router=d(M);isEdit=!1;petId=0;form=this.fb.group({nome:["",m.required],raca:["",m.required],idade:[0,[m.required,m.min(0)]]});ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&(this.isEdit=!0,this.petId=Number(r),this.facade.loadPetDetail(this.petId).subscribe(e=>{e&&this.form.patchValue({nome:e.nome,raca:e.raca,idade:e.idade})}))}submit(){if(this.form.invalid)return;let r=this.form.value;this.isEdit?this.facade.updatePet(this.petId,r).subscribe(e=>{e&&this.router.navigateByUrl(`/pets/${e.id}`)}):this.facade.createPet(r).subscribe(e=>{e?.id?this.router.navigateByUrl(`/pets/${e.id}`):this.router.navigateByUrl("/pets")})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=b({type:l,selectors:[["ng-component"]],decls:29,vars:11,consts:[[1,"container","mx-auto","max-w-2xl","py-8","px-4"],[1,"flex","items-center","mb-8"],["routerLink","/pets",1,"inline-flex","items-center","gap-2","px-5","py-2.5","rounded-full","font-semibold","transition-all","duration-200","bg-white","text-gray-700","border-2","border-gray-200","hover:bg-gray-50","hover:border-orange-500","hover:text-orange-500","group"],[1,"transition-transform","group-hover:-translate-x-1"],[1,"bg-white/80","backdrop-blur-md","rounded-3xl","p-8","shadow-xl","border","border-white"],[1,"text-3xl","font-extrabold","text-orange-500","mb-6"],[1,"grid","gap-6",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"font-semibold","text-gray-700"],["type","text","formControlName","nome","placeholder","Nome do pet",1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-200","bg-white","text-gray-800","transition-all","focus:outline-none","focus:border-orange-400","focus:ring-4","focus:ring-orange-400/20","placeholder:text-gray-400"],["type","number","formControlName","idade","min","0","placeholder","Idade em anos",1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-200","bg-white","text-gray-800","transition-all","focus:outline-none","focus:border-orange-400","focus:ring-4","focus:ring-orange-400/20","placeholder:text-gray-400"],["type","text","formControlName","raca","placeholder","Ra\xE7a do pet",1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-200","bg-white","text-gray-800","transition-all","focus:outline-none","focus:border-orange-400","focus:ring-4","focus:ring-orange-400/20","placeholder:text-gray-400"],["type","submit",1,"w-full","px-8","py-3.5","rounded-full","bg-gradient-to-r","from-orange-400","to-orange-500","text-white","font-bold","text-lg","shadow-lg","transition-all","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed","mt-4",3,"disabled"],[1,"text-red-500","text-sm","font-medium","text-center","mt-4"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"a",2)(3,"mat-icon",3),o(4,"arrow_back"),t(),i(5,"span"),o(6,"Voltar"),t()()(),i(7,"div",4)(8,"h1",5),o(9),t(),i(10,"form",6),v("ngSubmit",function(){return a.submit()}),i(11,"div",7)(12,"label",8),o(13,"Nome"),t(),s(14,"input",9),t(),i(15,"div",7)(16,"label",8),o(17,"Idade"),t(),s(18,"input",10),t(),i(19,"div",7)(20,"label",8),o(21,"Ra\xE7a"),t(),s(22,"input",11),t(),i(23,"button",12),p(24,"async"),o(25),p(26,"async"),t(),x(27,O,2,1,"p",13),p(28,"async"),t()()()),e&2){let f;n(9),g(" ",a.isEdit?"Editar Pet":"Novo Pet"," "),n(),c("formGroup",a.form),n(13),c("disabled",a.form.invalid||u(24,5,a.facade.saving$)),n(2),g(" ",u(26,7,a.facade.saving$)?"Salvando...":"Salvar"," "),n(2),h((f=u(28,9,a.facade.error$))?27:-1,f)}},dependencies:[w,E,k,_,I,B,F,C,R,V,D,S,L,A,T,N,q,G],encapsulation:2})};export{j as PetFormPage};
