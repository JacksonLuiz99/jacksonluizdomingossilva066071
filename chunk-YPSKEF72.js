import{b as G,c as H}from"./chunk-EANEDKLI.js";import"./chunk-7LRLGX2J.js";import"./chunk-VX6I5IJU.js";import{d as tt,e as et}from"./chunk-L2EB7ID4.js";import{a as nt,b as it}from"./chunk-GOCKSI27.js";import{a as J,b as K}from"./chunk-E3FWN4IT.js";import{a as X,b as Z}from"./chunk-FDZI6VLF.js";import{a as D,b as V,c as B,f as $,i as U}from"./chunk-MIMWGAFJ.js";import{b as A,f as N,i as Y,l as q,r as R}from"./chunk-S4BGLZ2S.js";import{a as Q,b as W}from"./chunk-X4BXCJEK.js";import"./chunk-M7YNLJA7.js";import{D as F,I as j}from"./chunk-ARLDRMJR.js";import{d as I}from"./chunk-MCHKK77N.js";import"./chunk-RTAFBYSH.js";import{$b as T,Bb as w,C,Cb as O,Cc as z,Db as i,Eb as e,Ec as L,Fb as g,G as v,Hb as b,Jb as _,Kb as s,Vb as a,Wa as M,Xb as u,Yb as y,Za as r,ac as S,ba as f,cc as E,dc as k,ib as P,ja as x,ka as h,nb as m,ub as p,zb as c}from"./chunk-YXS2TKPT.js";import"./chunk-2VMXMS7J.js";var rt=n=>["/tutores",n],lt=()=>[10],ct=(n,o)=>o.id;function st(n,o){if(n&1){let t=b();i(0,"button",14),_("click",function(){x(t);let d=s();return h(d.searchControl.setValue(""))}),i(1,"mat-icon"),a(2,"close"),e()()}}function dt(n,o){n&1&&(i(0,"div",13),g(1,"mat-spinner",15),e())}function mt(n,o){if(n&1&&(i(0,"span",27)(1,"mat-icon",28),a(2,"phone"),e(),a(3),e()),n&2){let t=s().$implicit;r(3),u(" ",t.telefone," ")}}function pt(n,o){if(n&1&&(i(0,"span",27)(1,"mat-icon",28),a(2,"pets"),e(),a(3),e()),n&2){let t=s().$implicit;r(3),y(" ",t.pets.length," ",t.pets.length===1?"pet":"pets"," ")}}function ft(n,o){if(n&1&&(i(0,"a",17)(1,"div",20),g(2,"img",21),i(3,"div",22)(4,"mat-icon"),a(5,"visibility"),e()()(),i(6,"div",23)(7,"h3",24),a(8),E(9,"titlecase"),e(),i(10,"p",25),a(11),e(),i(12,"div",26),m(13,mt,4,1,"span",27)(14,pt,4,2,"span",27),e()()()),n&2){let t=o.$implicit;p("routerLink",S(9,rt,t.id)),r(2),p("src",(t.foto==null?null:t.foto.url)||"/assets/images/placeholder-avatar.png",M)("alt",t.nome),r(6),u(" ",k(9,7,t.nome)," "),r(3),u(" ",t.email||"Sem email"," "),r(2),c(t.telefone?13:-1),r(),c(t.pets&&t.pets.length>0?14:-1)}}function gt(n,o){n&1&&(i(0,"div",18)(1,"mat-icon",29),a(2,"person_off"),e(),i(3,"h3",30),a(4," Nenhum tutor cadastrado "),e(),i(5,"p",31),a(6,"Comece adicionando seu primeiro tutor!"),e(),i(7,"a",32)(8,"mat-icon"),a(9,"add_circle"),e(),i(10,"span"),a(11,"Adicionar Tutor"),e()()())}function ut(n,o){if(n&1){let t=b();i(0,"div",19)(1,"mat-paginator",33),_("page",function(d){x(t);let at=s(2);return h(at.onPageChange(d))}),e()()}if(n&2){let t=s(2);r(),p("length",t.total)("pageSize",t.size)("pageIndex",t.pageIndex)("pageSizeOptions",T(5,lt))("showFirstLastButtons",!0)}}function xt(n,o){if(n&1&&(i(0,"div",16),w(1,ft,15,11,"a",17,ct,!1,gt,12,0,"div",18),e(),m(4,ut,2,6,"div",19)),n&2){let t=s();r(),O(t.tutores),r(3),c(t.total>0?4:-1)}}var ot=class n{api=f(nt);facade=f(it);dialog=f(tt);tutores=[];loading=!0;total=0;page=1;size=10;pageIndex=0;searchControl=new Y("");ngOnInit(){this.loadTutores(),this.setupSearch()}setupSearch(){this.searchControl.valueChanges.pipe(C(500),v()).subscribe(()=>{this.page=1,this.pageIndex=0,this.loadTutores()})}loadTutores(){this.loading=!0;let o=this.searchControl.value||"";this.api.list(this.page,this.size,o).subscribe({next:t=>{this.tutores=t.items,this.total=t.total,this.loading=!1},error:()=>{this.loading=!1}})}onPageChange(o){this.page=o.pageIndex+1,this.pageIndex=o.pageIndex,this.size=o.pageSize,this.loadTutores()}deleteTutor(o,t){o.preventDefault(),o.stopPropagation(),this.dialog.open(et,{data:{title:"Excluir Tutor",message:`Tem certeza que deseja excluir o tutor "${t.nome}"? Esta a\xE7\xE3o n\xE3o pode ser desfeita.`,confirmText:"Excluir",cancelText:"Cancelar",isDanger:!0}}).afterClosed().subscribe(d=>{d&&this.facade.deleteTutor(t.id).subscribe(()=>{this.loadTutores()})})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["ng-component"]],decls:25,vars:4,consts:[[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-6","mb-10"],[1,"flex-shrink-0"],[1,"flex","items-center","gap-4","mb-2"],[1,"!text-5xl","!w-12","!h-12","text-orange-500"],[1,"title"],[1,"text-gray-600","ml-14"],[1,"flex-1","w-full","md:w-auto","md:max-w-md","mx-4"],["appearance","fill","subscriptSizing","dynamic",1,"search-field","w-full"],["matInput","","placeholder","Digite o nome do tutor...","autocomplete","off",3,"formControl"],["matPrefix",""],["matSuffix","","mat-icon-button","","aria-label","Limpar busca"],["routerLink","/tutores/novo",1,"btn-add-pet","flex-shrink-0"],[1,"flex","justify-center","items-center","min-h-[400px]"],["matSuffix","","mat-icon-button","","aria-label","Limpar busca",3,"click"],["diameter","50","color","warn"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-6","mb-4"],[1,"pet-card","block","bg-white","rounded-2xl","overflow-hidden","shadow-md","hover:shadow-2xl","hover:-translate-y-2","transition-all","duration-300","ease-out","cursor-pointer",3,"routerLink"],[1,"col-span-full","flex","flex-col","items-center","justify-center","p-16","bg-white","rounded-2xl","shadow-md","min-h-[400px]"],[1,"paginator-container","bg-white","rounded-2xl","overflow-hidden","shadow-md"],[1,"relative","w-full","pt-[75%]","overflow-hidden","bg-gradient-to-br","from-orange-200","to-orange-100"],[1,"absolute","top-0","left-0","w-full","h-full","object-cover","transition-transform","duration-300","hover:scale-110",3,"src","alt"],[1,"pet-overlay"],[1,"p-5","text-center"],[1,"text-2xl","font-bold","text-gray-900","mb-2","overflow-hidden","text-ellipsis","whitespace-nowrap","transition-colors","duration-300","hover:text-orange-500"],[1,"text-gray-600","text-base","mb-4","overflow-hidden","text-ellipsis","whitespace-nowrap","text-center"],[1,"flex","items-center","justify-center","gap-2","flex-wrap","pt-3","border-t","border-gray-100"],[1,"pet-age","inline-flex","items-center","gap-2","px-3","py-2","bg-gradient-to-br","from-orange-100","to-orange-200","rounded-full","text-orange-700","text-sm","font-semibold"],[1,"text-lg","w-[1.1rem]","h-[1.1rem]"],[1,"text-[5rem]","w-20","h-20","text-orange-200","mb-4"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","mb-8"],["routerLink","/tutores/novo",1,"btn-add-pet"],["aria-label","Selecione a p\xE1gina",3,"page","length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),a(5,"people"),e(),i(6,"h1",5),a(7,"Tutores"),e()(),i(8,"p",6),a(9,"Gerencie os tutores cadastrados"),e()(),i(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),a(13,"Buscar por nome"),e(),g(14,"input",9),i(15,"mat-icon",10),a(16,"search"),e(),m(17,st,3,0,"button",11),e()(),i(18,"a",12)(19,"mat-icon"),a(20,"add_circle"),e(),i(21,"span"),a(22,"Adicionar Tutor"),e()()(),m(23,dt,2,0,"div",13)(24,xt,5,2),e()),t&2&&(r(14),p("formControl",l.searchControl),r(3),c(l.searchControl.value?17:-1),r(6),c(l.loading?23:-1),r(),c(l.loading?-1:24))},dependencies:[L,z,I,R,A,N,q,W,Q,j,F,K,J,H,G,U,$,D,V,B,Z,X],styles:['.title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#f97316,#fb923c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.btn-add-pet[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:linear-gradient(135deg,#f97316,#fb923c);color:#fff;font-weight:700;font-size:1rem;border-radius:9999px;text-decoration:none;box-shadow:0 10px 25px #f973164d;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.btn-add-pet[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s ease}.btn-add-pet[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;transition:transform .3s ease}.btn-add-pet[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.btn-add-pet[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.03);box-shadow:0 15px 35px #f9731673}.btn-add-pet[_ngcontent-%COMP%]:hover:before{left:100%}.btn-add-pet[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.btn-add-pet[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}@media (max-width: 640px){.btn-add-pet[_ngcontent-%COMP%]{width:100%;justify-content:center}}.search-container[_ngcontent-%COMP%]{margin:0 auto 2.5rem;max-width:800px;width:100%;position:relative}.search-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;background:radial-gradient(circle,rgba(249,115,22,.08) 0%,transparent 70%);border-radius:9999px;opacity:0;transition:opacity .4s ease;pointer-events:none}.search-container[_ngcontent-%COMP%]:has(.mat-focused):before{opacity:1}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{max-width:100%}}.search-field[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]     .mdc-line-ripple{display:none}.search-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background:linear-gradient(135deg,#fffffffa,#fff7edf2);backdrop-filter:blur(12px);border-radius:9999px!important;box-shadow:0 8px 16px -4px #f973161f,0 4px 8px -2px #00000014,inset 0 1px 2px #fffc;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.search-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper:before{content:"";position:absolute;inset:-2px;background:linear-gradient(135deg,#f97316,#fb923c,#fdba74);border-radius:9999px;opacity:0;z-index:-1;transition:opacity .4s ease}.search-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper:hover{transform:translateY(-2px);box-shadow:0 12px 24px -6px #f973162e,0 8px 12px -4px #0000001a,inset 0 1px 3px #ffffffe6}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{background-color:transparent}.search-field[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper{box-shadow:0 0 0 4px #f973161a,0 16px 32px -8px #f9731640,0 12px 16px -6px #0000001f,inset 0 2px 4px #fff;transform:translateY(-3px) scale(1.01)}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper:before{opacity:1}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-label{color:#9ca3af;font-weight:600;letter-spacing:.02em;transition:all .3s ease}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mat-mdc-form-field-label{color:#f97316!important;font-weight:700}.search-field[_ngcontent-%COMP%]     .mat-mdc-input-element{color:#1f2937;font-weight:600;font-size:1.05rem;letter-spacing:.01em}.search-field[_ngcontent-%COMP%]     .mat-mdc-input-element::placeholder{color:#cbd5e1;font-weight:500;font-style:italic}.search-field[_ngcontent-%COMP%]     .mat-icon[matprefix]{color:#d1d5db;margin-right:.5rem;transition:all .3s cubic-bezier(.4,0,.2,1)}.search-field[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mat-icon[matprefix]{color:#f97316;transform:scale(1.15) rotate(12deg);filter:drop-shadow(0 2px 4px rgba(249,115,22,.3))}.search-field[_ngcontent-%COMP%]     .mat-mdc-icon-button{transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:50%}.search-field[_ngcontent-%COMP%]     .mat-mdc-icon-button .mat-icon{color:#9ca3af;transition:all .3s ease}.search-field[_ngcontent-%COMP%]     .mat-mdc-icon-button:hover{background:linear-gradient(135deg,#fff7ed,#ffedd5);transform:scale(1.1) rotate(90deg)}.search-field[_ngcontent-%COMP%]     .mat-mdc-icon-button:hover .mat-icon{color:#f97316;filter:drop-shadow(0 2px 3px rgba(249,115,22,.3))}.search-field[_ngcontent-%COMP%]     .mat-mdc-icon-button:active{transform:scale(.95) rotate(90deg)}.search-field[_ngcontent-%COMP%]     .mat-ripple-element{background-color:#f9731626}.pet-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#f97316cc,#fb923ccc);display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;cursor:pointer}.pet-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:3rem;width:3rem;height:3rem}.pet-card[_ngcontent-%COMP%]:hover   .pet-overlay[_ngcontent-%COMP%]{opacity:1}.paginator-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-paginator{background:transparent;display:flex;justify-content:center}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-paginator-container{justify-content:center!important;padding:0 16px}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-paginator-page-size-label, .paginator-container[_ngcontent-%COMP%]     .mat-mdc-paginator-range-label{color:#6b7280;font-weight:500}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-icon-button:not(:disabled){color:#f97316}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-icon-button:not(:disabled):hover{background-color:#fff7ed}.paginator-container[_ngcontent-%COMP%]     .mat-mdc-icon-button:disabled{color:#d1d5db}']})};export{ot as TutoresListPage};
