import{a as A,b as B}from"./chunk-X4BXCJEK.js";import{D as T,F,H as S,I as O}from"./chunk-ARLDRMJR.js";import{Db as i,Eb as a,Ec as D,Fb as y,Hb as _,Jb as p,Kb as d,Vb as o,Wa as M,Wb as b,Xb as k,Y as C,Za as s,ib as h,ja as g,jb as P,ka as u,nb as f,ta as E,ub as v,wb as x,zb as c}from"./chunk-YXS2TKPT.js";import{c as w}from"./chunk-2VMXMS7J.js";var Z=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=P({type:n});static \u0275inj=C({imports:[F]})}return n})();function U(n){return/^image\//.test(n.type)}function X(n){return new Promise((t,e)=>{let r=new FileReader;r.onload=()=>t(String(r.result)),r.onerror=e,r.readAsDataURL(n)})}function V(n,t){if(n&1){let e=_();i(0,"div",4),y(1,"img",8),i(2,"button",9),p("click",function(){g(e);let l=d();return u(l.removeFile())}),i(3,"mat-icon"),o(4,"close"),a()()()}if(n&2){let e=d();s(),v("src",e.previewUrl,M)}}function z(n,t){if(n&1){let e=_();i(0,"div",5)(1,"mat-icon",10),o(2,"cloud_upload"),a(),i(3,"p",11),o(4,"Arraste uma imagem ou"),a(),i(5,"label",12)(6,"mat-icon",13),o(7,"add_photo_alternate"),a(),i(8,"span"),o(9,"Selecionar Arquivo"),a(),i(10,"input",14),p("change",function(l){g(e);let m=d();return u(m.onFile(l))}),a()(),i(11,"p",15),o(12,"PNG, JPG, WEBP at\xE9 5MB"),a()()}}function N(n,t){if(n&1){let e=_();i(0,"button",16),p("click",function(){g(e);let l=d();return u(l.upload.emit(l.selectedFile))}),i(1,"mat-icon",17),o(2),a(),i(3,"span"),o(4),a()()}if(n&2){let e=d();v("disabled",e.uploading),s(2),k(" ",e.uploading?"hourglass_empty":"upload"," "),s(2),b(e.uploading?"Enviando...":"Enviar Foto")}}function L(n,t){if(n&1&&(i(0,"div",7)(1,"mat-icon",13),o(2,"error_outline"),a(),i(3,"span"),o(4),a()()),n&2){let e=d();s(4),b(e.error)}}var I=class n{title="Foto";uploading=!1;upload=new E;selectedFile=null;previewUrl=null;error=null;isDragging=!1;onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragging=!1;let e=t.dataTransfer?.files?.[0];e&&this.processFile(e)}onFile(t){let e=t.target,r=e.files?.[0]??null;r&&this.processFile(r),e.value=""}processFile(t){return w(this,null,function*(){if(this.error=null,!U(t)){this.error="Selecione um arquivo de imagem v\xE1lido.";return}if(t.size>5*1024*1024){this.error="O arquivo deve ter no m\xE1ximo 5MB.";return}this.selectedFile=t,this.previewUrl=yield X(t)})}removeFile(){this.selectedFile=null,this.previewUrl=null,this.error=null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["app-photo-upload"]],inputs:{title:"title",uploading:"uploading"},outputs:{upload:"upload"},decls:9,vars:16,consts:[[1,"rounded-2xl","bg-white","p-6","shadow"],[1,"mb-4"],[1,"m-0","text-lg","font-bold","text-slate-800"],[1,"cursor-pointer","rounded-xl","border-2","border-dashed","p-8","text-center","transition","bg-slate-50","border-slate-300","hover:bg-slate-100",3,"dragover","dragleave","drop"],[1,"relative","inline-block"],[1,"flex","flex-col","items-center","gap-3"],["mat-raised-button","","type","button","color","warn",1,"upload-btn","mt-6","w-full","!rounded-xl","!py-4","!text-lg","!font-bold","!text-white","!bg-gradient-to-br","!from-orange-500","!to-orange-400","hover:!shadow-xl","hover:!shadow-orange-500/40",3,"disabled"],[1,"mt-4","flex","items-center","gap-2","rounded-lg","bg-red-100","p-3","text-sm","text-red-600"],["alt","Preview",1,"w-full","max-w-[400px]","rounded-xl","object-cover","shadow-[0_10px_25px_rgba(0,0,0,0.15)]","max-h-[300px]",3,"src"],["mat-icon-button","","type","button",1,"!absolute","right-2","top-2","!bg-black/70","!text-white","hover:!bg-black/90",3,"click"],[1,"!h-12","!w-12","!text-orange-500"],[1,"m-0","text-sm","text-slate-500"],[1,"inline-flex","items-center","gap-2","rounded-full","px-5","py-2.5","text-sm","font-semibold","text-white","bg-gradient-to-br","from-orange-500","to-orange-400","transition","hover:-translate-y-0.5","hover:shadow-lg","hover:shadow-orange-500/30","cursor-pointer"],[1,"!h-5","!w-5"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"m-0","text-xs","text-slate-400"],["mat-raised-button","","type","button","color","warn",1,"upload-btn","mt-6","w-full","!rounded-xl","!py-4","!text-lg","!font-bold","!text-white","!bg-gradient-to-br","!from-orange-500","!to-orange-400","hover:!shadow-xl","hover:!shadow-orange-500/40",3,"click","disabled"],[1,"mr-3","upload-icon"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),o(3),a()(),i(4,"div",3),p("dragover",function(m){return r.onDragOver(m)})("dragleave",function(m){return r.onDragLeave(m)})("drop",function(m){return r.onDrop(m)}),f(5,V,5,1,"div",4)(6,z,13,0,"div",5),a(),f(7,N,5,3,"button",6)(8,L,5,1,"div",7),a()),e&2&&(s(3),b(r.title),s(),x("border-orange-500",r.isDragging)("bg-orange-50",r.isDragging)("scale-[1",r.isDragging)("p-0",!!r.previewUrl)("border-0",!!r.previewUrl)("bg-transparent",!!r.previewUrl),s(),c(r.previewUrl?5:6),s(2),c(r.selectedFile?7:-1),s(),c(r.error?8:-1))},dependencies:[D,O,S,T,B,A],styles:[".upload-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.upload-btn[_ngcontent-%COMP%]:disabled{animation:none}.upload-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 1s infinite}.upload-btn[_ngcontent-%COMP%]:disabled   .upload-icon[_ngcontent-%COMP%]{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 10px 25px #f9731666}50%{box-shadow:0 10px 35px #f9731699}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}"]})};export{Z as a,I as b};
